{
  "version": 3,
  "sources": ["../src/EpubViewer.ts"],
  "sourcesContent": ["import { EpubViewerBase } from './EpubViewerBase';\n\nexport class EpubViewer extends EpubViewerBase {\n  constructor(protected input: ArrayBuffer) {\n    super();\n  }\n\n  public async initialize() {\n    await super.initialize(this.input);\n    delete this.input;\n  }\n\n  protected registerEventListeners() {\n    super.registerEventListeners();\n    this.rendition.on('swipe:left', this.applyLeftEvent.bind(this));\n    this.rendition.on('swipe:right', this.applyRightEvent.bind(this));\n    // keybaord events\n    this.rendition.on('keyup', this.listenKeyUpEvents.bind(this));\n    document.addEventListener(\n      'keyup',\n      this.listenKeyUpEvents.bind(this),\n      false\n    );\n    // mouse events\n    this.rendition.on('click', () => this.emit('click-tap'));\n  }\n\n  private listenKeyUpEvents({ code }: KeyboardEvent) {\n    // Left Key\n    if (code === 'ArrowLeft') {\n      this.applyRightEvent();\n    }\n    // Right Key\n    if (code === 'ArrowRight') {\n      this.applyLeftEvent();\n    }\n  }\n\n  private applyRightEvent() {\n    // @ts-ignore\n    this.book.packaging?.metadata?.direction === 'rtl'\n      ? this.rendition.next()\n      : this.rendition.prev();\n  }\n\n  private applyLeftEvent() {\n    // @ts-ignore\n    this.book.packaging?.metadata?.direction === 'rtl'\n      ? this.rendition.prev()\n      : this.rendition.next();\n  }\n}\n"],
  "mappings": "AAAA;AAEO,gCAAyB,eAAe;AAAA,EAC7C,YAAsB,OAAoB;AACxC;AADoB;AAAA;AAAA,QAIT,aAAa;AACxB,UAAM,MAAM,WAAW,KAAK;AAC5B,WAAO,KAAK;AAAA;AAAA,EAGJ,yBAAyB;AACjC,UAAM;AACN,SAAK,UAAU,GAAG,cAAc,KAAK,eAAe,KAAK;AACzD,SAAK,UAAU,GAAG,eAAe,KAAK,gBAAgB,KAAK;AAE3D,SAAK,UAAU,GAAG,SAAS,KAAK,kBAAkB,KAAK;AACvD,aAAS,iBACP,SACA,KAAK,kBAAkB,KAAK,OAC5B;AAGF,SAAK,UAAU,GAAG,SAAS,MAAM,KAAK,KAAK;AAAA;AAAA,EAGrC,kBAAkB,EAAE,QAAuB;AAEjD,QAAI,SAAS,aAAa;AACxB,WAAK;AAAA;AAGP,QAAI,SAAS,cAAc;AACzB,WAAK;AAAA;AAAA;AAAA,EAID,kBAAkB;AAtC5B;AAwCI,sBAAK,KAAK,cAAV,mBAAqB,aAArB,mBAA+B,eAAc,QACzC,KAAK,UAAU,SACf,KAAK,UAAU;AAAA;AAAA,EAGb,iBAAiB;AA7C3B;AA+CI,sBAAK,KAAK,cAAV,mBAAqB,aAArB,mBAA+B,eAAc,QACzC,KAAK,UAAU,SACf,KAAK,UAAU;AAAA;AAAA;",
  "names": []
}
